import{j as e,B as t,c as h}from"./index-8HvWlEO9.js";import{r as u,A as o,p as b,q as c}from"./vendor-ui-BfR-HH66.js";import{f}from"./vendor-date-OvfWL3xb.js";import{p as j}from"./pt-BR-nHefkTwq.js";import"./vendor-react-CRB3T2We.js";function C({dashboardId:p,dashboard:d,onBack:l}){const s=d,[r,i]=u.useState(!1);if(!s)return e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Relat√≥rio n√£o encontrado"}),e.jsxs(t,{onClick:l,variant:"outline",children:[e.jsx(o,{className:"w-4 h-4 mr-2"}),"Voltar"]})]})});const n=a=>{try{return f(new Date(a),{addSuffix:!0,locale:j})}catch{return"Data indispon√≠vel"}},m=()=>{i(!0),setTimeout(()=>i(!1),1e3)},x=()=>{const a=document.querySelector("iframe");a&&a.requestFullscreen&&a.requestFullscreen()};return e.jsxs("div",{className:"flex flex-col h-screen bg-slate-50",children:[e.jsxs("div",{className:"bg-white border-b border-slate-200 px-6 py-3 flex items-center justify-between shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(t,{variant:"ghost",size:"sm",onClick:l,className:"gap-2 hover:bg-slate-100",children:[e.jsx(o,{className:"w-4 h-4"}),"Voltar"]}),e.jsx("div",{className:"h-6 w-px bg-slate-300"}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-slate-900",children:s.title}),e.jsxs("p",{className:"text-xs text-slate-500",children:["Atualizado ",n(s.last_updated||s.created_at||new Date().toISOString())]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{variant:"secondary",className:"text-xs",children:"PowerBI Embed"}),e.jsxs(t,{variant:"ghost",size:"sm",onClick:m,disabled:r,className:"gap-2 hover:bg-slate-100",children:[e.jsx(b,{className:`w-4 h-4 ${r?"animate-spin":""}`}),"Atualizar"]}),e.jsxs(t,{variant:"ghost",size:"sm",onClick:x,className:"gap-2 hover:bg-slate-100",children:[e.jsx(c,{className:"w-4 h-4"}),"Tela Cheia"]})]})]}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100",children:e.jsx("div",{className:"max-w-2xl w-full mx-auto p-8 text-center",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border-2 border-blue-100",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(c,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3",children:"Visualiza√ß√£o do PowerBI"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"Este √© o espa√ßo onde seu relat√≥rio do PowerBI ser√° incorporado."}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 mb-4 text-left",children:[e.jsx("p",{className:"text-sm font-medium text-slate-700 mb-2",children:e.jsx("strong",{children:"URL do Embed configurado:"})}),e.jsx("code",{className:"text-xs text-slate-600 break-all block bg-white p-3 rounded border border-slate-200",children:s.embed_url})]}),e.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Em produ√ß√£o, substitua a URL acima pela URL real do seu relat√≥rio PowerBI. O iframe abaixo carregar√° automaticamente o relat√≥rio."}),e.jsxs("div",{className:"text-left bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs font-medium text-blue-900 mb-2",children:"üí° Como obter a URL de embed do PowerBI:"}),e.jsxs("ol",{className:"text-xs text-blue-800 space-y-1 list-decimal list-inside",children:[e.jsx("li",{children:"Acesse seu relat√≥rio no Power BI Service"}),e.jsx("li",{children:'Clique em "Arquivo" ‚Üí "Inserir relat√≥rio" ‚Üí "Site ou portal"'}),e.jsx("li",{children:"Copie a URL de incorpora√ß√£o gerada"}),e.jsx("li",{children:'Cole a URL no formul√°rio "Adicionar Novo Relat√≥rio"'})]})]})]})})}),e.jsx("iframe",{src:s.embed_url,className:"w-full h-full border-0",allowFullScreen:!0,title:s.title})]})]})}export{C as ReportViewer};
